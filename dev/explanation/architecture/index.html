<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Package Architecture Â· ConformalPrediction.jl</title><meta name="title" content="Package Architecture Â· ConformalPrediction.jl"/><meta property="og:title" content="Package Architecture Â· ConformalPrediction.jl"/><meta property="twitter:title" content="Package Architecture Â· ConformalPrediction.jl"/><meta name="description" content="Documentation for ConformalPrediction.jl."/><meta property="og:description" content="Documentation for ConformalPrediction.jl."/><meta property="twitter:description" content="Documentation for ConformalPrediction.jl."/><meta property="og:url" content="https://juliatrustworthyai.github.io/ConformalPrediction.jl/explanation/architecture/"/><meta property="twitter:url" content="https://juliatrustworthyai.github.io/ConformalPrediction.jl/explanation/architecture/"/><link rel="canonical" href="https://juliatrustworthyai.github.io/ConformalPrediction.jl/explanation/architecture/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="ConformalPrediction.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ConformalPrediction.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">ğŸ  Home</a></li><li><span class="tocitem">ğŸ«£ Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/">Overview</a></li><li><a class="tocitem" href="../../tutorials/classification/">Classification</a></li><li><a class="tocitem" href="../../tutorials/regression/">Regression</a></li></ul></li><li><span class="tocitem">ğŸ«¡ How-To Guides</span><ul><li><a class="tocitem" href="../../how_to_guides/">Overview</a></li><li><a class="tocitem" href="../../how_to_guides/mnist/">How to Conformalize a Deep Image Classifier</a></li><li><a class="tocitem" href="../../how_to_guides/llm/">How to Conformalize a Large Language Model</a></li><li><a class="tocitem" href="../../how_to_guides/timeseries/">How to Conformalize a Time Series Model</a></li></ul></li><li><span class="tocitem">ğŸ¤“ Explanation</span><ul><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href>Package Architecture</a><ul class="internal"><li><a class="tocitem" href="#Abstract-Subtypes"><span>Abstract Subtypes</span></a></li><li><a class="tocitem" href="#fit-and-predict"><span><code>fit</code> and <code>predict</code></span></a></li></ul></li><li><a class="tocitem" href="../finite_sample_correction/">Finite-sample Correction</a></li></ul></li><li><a class="tocitem" href="../../reference/">ğŸ§ Reference</a></li><li><a class="tocitem" href="../../contribute/">ğŸ›  Contribute</a></li><li><a class="tocitem" href="../../faq/">â“ FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">ğŸ¤“ Explanation</a></li><li class="is-active"><a href>Package Architecture</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Package Architecture</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/juliatrustworthyai/ConformalPrediction.jl/blob/main/docs/src/explanation/architecture.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid">ï„</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Package-Architecture"><a class="docs-heading-anchor" href="#Package-Architecture">Package Architecture</a><a id="Package-Architecture-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Architecture" title="Permalink"></a></h1><p>The diagram below demonstrates the package architecture at the time of writing. This is still subject to change, so any thoughts and comments are very much welcome.</p><p>The goal is to make this package as compatible as possible with MLJ to tab into existing functionality. The basic idea is to subtype MLJ <code>Supervised</code> models and then use concrete types to implement different approaches to conformal prediction. For each of these concrete types the compulsory <code>MMI.fit</code> and <code>MMI.predict</code> methods need be implemented (see <a href="https://alan-turing-institute.github.io/MLJ.jl/v0.18/adding_models_for_general_use/#Supervised-models">here</a>).</p><p><img src="../architecture_files/figure-commonmark/mermaid-figure-1.png" alt/></p><h2 id="Abstract-Subtypes"><a class="docs-heading-anchor" href="#Abstract-Subtypes">Abstract Subtypes</a><a id="Abstract-Subtypes-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-Subtypes" title="Permalink"></a></h2><p>Currently, I intend to work with three different abstract subtypes:</p><ul><li><a href="../../reference/#ConformalPrediction.ConformalInterval"><code>ConformalPrediction.ConformalInterval</code></a></li><li><a href="../../reference/#ConformalPrediction.ConformalProbabilisticSet"><code>ConformalPrediction.ConformalProbabilisticSet</code></a></li><li><a href="../../reference/#ConformalPrediction.ConformalProbabilistic"><code>ConformalPrediction.ConformalProbabilistic</code></a></li></ul><h2 id="fit-and-predict"><a class="docs-heading-anchor" href="#fit-and-predict"><code>fit</code> and <code>predict</code></a><a id="fit-and-predict-1"></a><a class="docs-heading-anchor-permalink" href="#fit-and-predict" title="Permalink"></a></h2><p>The <code>fit</code> and <code>predict</code> methods are compulsory in order to prepare models for general use with MLJ. They also serve us to implement the logic underlying the various approaches to conformal prediction. To understand how this currently works, have a look at the <a href="../../reference/#ConformalPrediction.AdaptiveInductiveClassifier"><code>ConformalPrediction.AdaptiveInductiveClassifier</code></a> as an example: <a href="../../reference/#MLJModelInterface.fit-Tuple{ConformalPrediction.AdaptiveInductiveClassifier, Any, Any, Any}"><code>fit(conf_model::ConformalPrediction.AdaptiveInductiveClassifier, verbosity, X, y)</code></a> and <a href="../../reference/#MLJModelInterface.predict-Tuple{ConformalPrediction.AdaptiveInductiveClassifier, Any, Any}"><code>predict(conf_model::ConformalPrediction.AdaptiveInductiveClassifier, fitresult, Xnew)</code></a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">Â« Overview</a><a class="docs-footer-nextpage" href="../finite_sample_correction/">Finite-sample Correction Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Monday 11 March 2024 17:00">Monday 11 March 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
